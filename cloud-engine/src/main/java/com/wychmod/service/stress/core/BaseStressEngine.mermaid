graph TB
    A[BaseStressEngine压测引擎] --> B[初始化StandardJMeterEngine]
    B --> C[组装测试计划抽象方法]
    C --> D[生成HashTree测试计划]
    D --> E[创建EngineSampleCollector]
    E --> F[运行测试engine.run]
    
    F --> G[JMeter引擎执行测试]
    G --> H[产生SampleEvent事件]
    H --> I[EngineSampleCollector监听事件]
    I --> J[处理样本事件sampleOccurred]
    J --> K[计算统计数据]
    K --> L[封装结果数据]
    L --> M[发送结果到MQ]
    
    M --> N[测试完成]
    N --> O[清理数据]
    O --> P[更新测试报告]
    
    subgraph 压测执行过程
        G
        H
        I
        J
        K
        L
        M
    end
    
    subgraph 流程控制
        A
        B
        C
        D
        E
        F
        N
        O
        P
    end
    
    style 压测执行过程 fill:#dbe9ff
    style 流程控制 fill:#ffdbe6
